<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="opendenguedata">
<title>Package general use tutorial • opendenguedata</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Package general use tutorial">
<meta property="og:description" content="opendenguedata">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">opendenguedata</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.0.9000</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/general_use_tutorial.html">Package general use tutorial</a>
  </div>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav"></ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Package general use tutorial</h1>
            
      
      
      <div class="d-none name"><code>general_use_tutorial.Rmd</code></div>
    </div>

    
    
<p>This is a general use tutorial of the package. The
<code>showProgress</code> argument is set as <code>FALSE</code> in the
examples to remove the clutter.</p>
<div class="section level2">
<h2 id="package-instalation-and-loading">Package instalation and loading<a class="anchor" aria-label="anchor" href="#package-instalation-and-loading"></a>
</h2>
<p>For the package installation, use the remotes package:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">remotes</span><span class="fu">::</span><span class="fu">install_github</span><span class="op">(</span><span class="st">"rfsaldanha/opendenguedata"</span><span class="op">)</span></span></code></pre></div>
<p>After installation, load the package. We also will use functions from
the <a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a> package.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://rfsaldanha.github.io/opendenguedata/">opendenguedata</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Attaching package: 'dplyr'</span></span>
<span><span class="co">#&gt; The following objects are masked from 'package:stats':</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;     filter, lag</span></span>
<span><span class="co">#&gt; The following objects are masked from 'package:base':</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;     intersect, setdiff, setequal, union</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="reading-data">Reading data<a class="anchor" aria-label="anchor" href="#reading-data"></a>
</h2>
<p>The OpenDengueData project presents dengue data on three different
extracts: national, spatial and temporal. Use the <code>read_data</code>
function to download and read data from one of these extracts.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">res</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/read_data.html">read_data</a></span><span class="op">(</span>extract <span class="op">=</span> <span class="st">"temporal"</span>, as_data_frame <span class="op">=</span> <span class="cn">TRUE</span>, showProgress <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://pillar.r-lib.org/reference/glimpse.html" class="external-link">glimpse</a></span><span class="op">(</span><span class="va">res</span><span class="op">)</span></span>
<span><span class="co">#&gt; Rows: 390,627</span></span>
<span><span class="co">#&gt; Columns: 14</span></span>
<span><span class="co">#&gt; $ adm_0_name          <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "AFGHANISTAN", "AFGHANISTAN", "AFGHANISTAN", "AFGH…</span></span>
<span><span class="co">#&gt; $ adm_1_name          <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…</span></span>
<span><span class="co">#&gt; $ adm_2_name          <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…</span></span>
<span><span class="co">#&gt; $ full_name           <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "AFGHANISTAN", "AFGHANISTAN", "AFGHANISTAN", "AFGH…</span></span>
<span><span class="co">#&gt; $ ISO_A0              <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "AFG", "AFG", "AFG", "AFG", "AFG", "AFG", "AFG", "…</span></span>
<span><span class="co">#&gt; $ FAO_GAUL_code       <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> 1011446, 1011446, 1011446, 1011446, 1011446, 10114…</span></span>
<span><span class="co">#&gt; $ RNE_iso_code        <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "AFG", "AFG", "AFG", "AFG", "AFG", "AFG", "AFG", "…</span></span>
<span><span class="co">#&gt; $ calendar_start_date <span style="color: #949494; font-style: italic;">&lt;date&gt;</span> 2021-01-03, 2021-01-10, 2021-01-17, 2021-01-24, 2…</span></span>
<span><span class="co">#&gt; $ calendar_end_date   <span style="color: #949494; font-style: italic;">&lt;date&gt;</span> 2021-01-09, 2021-01-16, 2021-01-23, 2021-01-30, 2…</span></span>
<span><span class="co">#&gt; $ Year                <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> 2021, 2021, 2021, 2021, 2021, 2021, 2021, 2021, 20…</span></span>
<span><span class="co">#&gt; $ dengue_total        <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> 101, 151, 201, 202, 100, 251, 101, 61, 99, 112, 70…</span></span>
<span><span class="co">#&gt; $ S_res               <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "Admin0", "Admin0", "Admin0", "Admin0", "Admin0", …</span></span>
<span><span class="co">#&gt; $ T_res               <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "Week", "Week", "Week", "Week", "Week", "Week", "W…</span></span>
<span><span class="co">#&gt; $ sourceID            <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "WHO/EMRO-ALL-2016/2021-Y01", "WHO/EMRO-ALL-2016/2…</span></span></code></pre></div>
<div class="section level3">
<h3 id="the-as_data_frame-argument">The <code>as_data_frame</code> argument<a class="anchor" aria-label="anchor" href="#the-as_data_frame-argument"></a>
</h3>
<p>The <code>read_data</code> function <code>as_data_frame</code>
arguments defaults to <code>FALSE</code>. This means that the package
will return an Arrow Table object. The advantage of this format is that
the data is not directly loaded to the computer memory after download.
This is particular useful when the dataset is too big to fit on
memory.</p>
<p>It is recommendated to set this argument to <code>FALSE</code> to
filter rows and use other <a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a> verbs before to load the
data to memory.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">res</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/read_data.html">read_data</a></span><span class="op">(</span>extract <span class="op">=</span> <span class="st">"temporal"</span>, as_data_frame <span class="op">=</span> <span class="cn">FALSE</span>, showProgress <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">Year</span> <span class="op">==</span> <span class="fl">2021</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/compute.html" class="external-link">collect</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://pillar.r-lib.org/reference/glimpse.html" class="external-link">glimpse</a></span><span class="op">(</span><span class="va">res</span><span class="op">)</span></span>
<span><span class="co">#&gt; Rows: 17,898</span></span>
<span><span class="co">#&gt; Columns: 14</span></span>
<span><span class="co">#&gt; $ adm_0_name          <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "AFGHANISTAN", "AFGHANISTAN", "AFGHANISTAN", "AFGH…</span></span>
<span><span class="co">#&gt; $ adm_1_name          <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…</span></span>
<span><span class="co">#&gt; $ adm_2_name          <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…</span></span>
<span><span class="co">#&gt; $ full_name           <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "AFGHANISTAN", "AFGHANISTAN", "AFGHANISTAN", "AFGH…</span></span>
<span><span class="co">#&gt; $ ISO_A0              <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "AFG", "AFG", "AFG", "AFG", "AFG", "AFG", "AFG", "…</span></span>
<span><span class="co">#&gt; $ FAO_GAUL_code       <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> 1011446, 1011446, 1011446, 1011446, 1011446, 10114…</span></span>
<span><span class="co">#&gt; $ RNE_iso_code        <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "AFG", "AFG", "AFG", "AFG", "AFG", "AFG", "AFG", "…</span></span>
<span><span class="co">#&gt; $ calendar_start_date <span style="color: #949494; font-style: italic;">&lt;date&gt;</span> 2021-01-03, 2021-01-10, 2021-01-17, 2021-01-24, 2…</span></span>
<span><span class="co">#&gt; $ calendar_end_date   <span style="color: #949494; font-style: italic;">&lt;date&gt;</span> 2021-01-09, 2021-01-16, 2021-01-23, 2021-01-30, 2…</span></span>
<span><span class="co">#&gt; $ Year                <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> 2021, 2021, 2021, 2021, 2021, 2021, 2021, 2021, 20…</span></span>
<span><span class="co">#&gt; $ dengue_total        <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> 101, 151, 201, 202, 100, 251, 101, 61, 99, 112, 70…</span></span>
<span><span class="co">#&gt; $ S_res               <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "Admin0", "Admin0", "Admin0", "Admin0", "Admin0", …</span></span>
<span><span class="co">#&gt; $ T_res               <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "Week", "Week", "Week", "Week", "Week", "Week", "W…</span></span>
<span><span class="co">#&gt; $ sourceID            <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "WHO/EMRO-ALL-2016/2021-Y01", "WHO/EMRO-ALL-2016/2…</span></span></code></pre></div>
<p>The <code>collect</code> function is internally responsible to
prepare and send the query to the Arrow Table object and collects its
results, returning a <code>tibble</code> object.</p>
</div>
<div class="section level3">
<h3 id="the-columns-argument">The <code>columns</code> argument<a class="anchor" aria-label="anchor" href="#the-columns-argument"></a>
</h3>
<p>A vector of columns names may presented to subset the dataset.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">res</span> <span class="op">&lt;-</span> <span class="fu">opendenguedata</span><span class="fu">::</span><span class="fu"><a href="../reference/read_data.html">read_data</a></span><span class="op">(</span>extract <span class="op">=</span> <span class="st">"spatial"</span>, as_data_frame <span class="op">=</span> <span class="cn">TRUE</span>, </span>
<span>                                 showProgress <span class="op">=</span> <span class="cn">FALSE</span>, </span>
<span>                                 columns <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"full_name"</span>, <span class="st">"calendar_start_date"</span>, </span>
<span>                             <span class="st">"calendar_end_date"</span>, <span class="st">"dengue_total"</span><span class="op">)</span><span class="op">)</span></span>
<span>                 </span>
<span></span>
<span><span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://pillar.r-lib.org/reference/glimpse.html" class="external-link">glimpse</a></span><span class="op">(</span><span class="va">res</span><span class="op">)</span></span>
<span><span class="co">#&gt; Rows: 383,935</span></span>
<span><span class="co">#&gt; Columns: 4</span></span>
<span><span class="co">#&gt; $ full_name           <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "AFGHANISTAN", "AFGHANISTAN", "AFGHANISTAN", "AFGH…</span></span>
<span><span class="co">#&gt; $ calendar_start_date <span style="color: #949494; font-style: italic;">&lt;date&gt;</span> 2021-01-03, 2021-01-10, 2021-01-17, 2021-01-24, 2…</span></span>
<span><span class="co">#&gt; $ calendar_end_date   <span style="color: #949494; font-style: italic;">&lt;date&gt;</span> 2021-01-09, 2021-01-16, 2021-01-23, 2021-01-30, 2…</span></span>
<span><span class="co">#&gt; $ dengue_total        <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> 101, 151, 201, 202, 100, 251, 101, 61, 99, 112, 70…</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="the-cache-argument">The <code>cache</code> argument<a class="anchor" aria-label="anchor" href="#the-cache-argument"></a>
</h3>
<p>The <code>read_data</code> function download data from the OpenDengue
project repository. To avoid repeatedly downloads, the
<code>cache</code> argument creates a temporary folder inside the
computer with the download data. After the first download, the file is
cached on this folder and referenced on next runs of the function.</p>
<p>To force a new download and refresh the package cache, set this
argument to <code>FALSE</code>.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">res</span> <span class="op">&lt;-</span> <span class="fu">opendenguedata</span><span class="fu">::</span><span class="fu"><a href="../reference/read_data.html">read_data</a></span><span class="op">(</span>extract <span class="op">=</span> <span class="st">"spatial"</span>, cache <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Raphael Saldanha.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
